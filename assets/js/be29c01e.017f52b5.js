"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[285],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return u}});var o=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=o.createContext({}),s=function(e){var n=o.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},d=function(e){var n=s(e.components);return o.createElement(i.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},m=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,i=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),m=s(t),u=a,k=m["".concat(i,".").concat(u)]||m[u]||c[u]||l;return t?o.createElement(k,r(r({ref:n},d),{},{components:t})):o.createElement(k,r({ref:n},d))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,r=new Array(l);r[0]=m;var p={};for(var i in n)hasOwnProperty.call(n,i)&&(p[i]=n[i]);p.originalType=e,p.mdxType="string"==typeof e?e:a,r[1]=p;for(var s=2;s<l;s++)r[s]=t[s];return o.createElement.apply(null,r)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},7022:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return p},contentTitle:function(){return i},metadata:function(){return s},toc:function(){return d},default:function(){return m}});var o=t(7462),a=t(3366),l=(t(7294),t(3905)),r=["components"],p={},i=void 0,s={unversionedId:"vue\u63d2\u69fd\uff0c\u4f60\u60f3\u4e86\u89e3\u7684\u90fd\u5728\u8fd9\u91cc",id:"vue\u63d2\u69fd\uff0c\u4f60\u60f3\u4e86\u89e3\u7684\u90fd\u5728\u8fd9\u91cc",isDocsHomePage:!1,title:"vue\u63d2\u69fd\uff0c\u4f60\u60f3\u4e86\u89e3\u7684\u90fd\u5728\u8fd9\u91cc",description:"Vue\u7ec4\u4ef6\u7684\u53e6\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u662f\u63d2\u69fd\uff0c\u5b83\u5141\u8bb8\u4f60\u4ee5\u4e00\u79cd\u4e0d\u540c\u4e8e\u4e25\u683c\u7684\u7236\u5b50\u5173\u7cfb\u7684\u65b9\u5f0f\u7ec4\u5408\u7ec4\u4ef6\u3002\u63d2\u69fd\u4e3a\u4f60\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5c06\u5185\u5bb9\u653e\u7f6e\u5230\u65b0\u4f4d\u7f6e\u6216\u4f7f\u7ec4\u4ef6\u66f4\u901a\u7528\u7684\u51fa\u53e3\u3002\u8fd9\u4e00\u8282\u5c06\u56f4\u7ed5\u5b98\u7f51\u5bf9\u63d2\u69fd\u5185\u5bb9\u7684\u4ecb\u7ecd\u601d\u8def\uff0c\u6309\u7167\u666e\u901a\u63d2\u69fd\uff0c\u5177\u540d\u63d2\u69fd\uff0c\u518d\u5230\u4f5c\u7528\u57df\u63d2\u69fd\u7684\u601d\u8def\uff0c\u9010\u6b65\u6df1\u5165\u5185\u90e8\u7684\u5b9e\u73b0\u539f\u7406,\u6709\u5bf9\u63d2\u69fd\u4f7f\u7528\u4e0d\u719f\u6089\u7684\uff0c\u53ef\u4ee5\u5148\u53c2\u8003\u5b98\u7f51\u5bf9\u63d2\u69fd\u7684\u4ecb\u7ecd\u3002",source:"@site/docs\\10.vue\u63d2\u69fd\uff0c\u4f60\u60f3\u4e86\u89e3\u7684\u90fd\u5728\u8fd9\u91cc.md",sourceDirName:".",slug:"/vue\u63d2\u69fd\uff0c\u4f60\u60f3\u4e86\u89e3\u7684\u90fd\u5728\u8fd9\u91cc",permalink:"/In-depth-analysis-of-Vue/vue\u63d2\u69fd\uff0c\u4f60\u60f3\u4e86\u89e3\u7684\u90fd\u5728\u8fd9\u91cc",tags:[],version:"current",lastUpdatedAt:1631871541,formattedLastUpdatedAt:"9/17/2021",sidebarPosition:10,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u63ed\u79d8Vue\u7684\u4e8b\u4ef6\u673a\u5236",permalink:"/In-depth-analysis-of-Vue/\u63ed\u79d8Vue\u7684\u4e8b\u4ef6\u673a\u5236"},next:{title:"\u4f60\u771f\u7684\u4e86\u89e3v-model\u7684\u8bed\u6cd5\u7cd6\u4e86\u5417",permalink:"/In-depth-analysis-of-Vue/\u4f60\u771f\u7684\u4e86\u89e3v-model\u7684\u8bed\u6cd5\u7cd6\u4e86\u5417"}},d=[{value:"10.1 \u666e\u901a\u63d2\u69fd",id:"101-\u666e\u901a\u63d2\u69fd",children:[{value:"10.1.1 \u57fa\u7840\u7528\u6cd5",id:"1011-\u57fa\u7840\u7528\u6cd5",children:[]},{value:"10.1.2 \u7ec4\u4ef6\u6302\u8f7d\u539f\u7406",id:"1012-\u7ec4\u4ef6\u6302\u8f7d\u539f\u7406",children:[]},{value:"10.1.3 \u7236\u7ec4\u4ef6\u5904\u7406",id:"1013-\u7236\u7ec4\u4ef6\u5904\u7406",children:[]},{value:"10.1.4 \u5b50\u7ec4\u4ef6\u6d41\u7a0b",id:"1014-\u5b50\u7ec4\u4ef6\u6d41\u7a0b",children:[]}]},{value:"10.2 \u5177\u6709\u540e\u5907\u5185\u5bb9\u7684\u63d2\u69fd",id:"102-\u5177\u6709\u540e\u5907\u5185\u5bb9\u7684\u63d2\u69fd",children:[]},{value:"10.3 \u5177\u540d\u63d2\u69fd",id:"103-\u5177\u540d\u63d2\u69fd",children:[{value:"10.3.1 \u6a21\u677f\u7f16\u8bd1\u7684\u5dee\u522b",id:"1031-\u6a21\u677f\u7f16\u8bd1\u7684\u5dee\u522b",children:[]},{value:"10.3.2 \u7236\u7ec4\u4ef6vnode\u751f\u6210\u9636\u6bb5",id:"1032-\u7236\u7ec4\u4ef6vnode\u751f\u6210\u9636\u6bb5",children:[]},{value:"10.3.3 \u5b50\u7ec4\u4ef6\u6e32\u67d3Vnode\u8fc7\u7a0b",id:"1033-\u5b50\u7ec4\u4ef6\u6e32\u67d3vnode\u8fc7\u7a0b",children:[]},{value:"10.3.4 \u5b50\u7ec4\u4ef6\u6e32\u67d3\u771f\u5b9edom",id:"1034-\u5b50\u7ec4\u4ef6\u6e32\u67d3\u771f\u5b9edom",children:[]}]},{value:"10.4 \u4f5c\u7528\u57df\u63d2\u69fd",id:"104-\u4f5c\u7528\u57df\u63d2\u69fd",children:[{value:"10.4.1 \u7236\u7ec4\u4ef6\u7f16\u8bd1\u9636\u6bb5",id:"1041-\u7236\u7ec4\u4ef6\u7f16\u8bd1\u9636\u6bb5",children:[]},{value:"10.4.2 \u5b50\u7ec4\u4ef6\u6e32\u67d3",id:"1042-\u5b50\u7ec4\u4ef6\u6e32\u67d3",children:[]},{value:"10.4.3 \u601d\u8003",id:"1043-\u601d\u8003",children:[]}]}],c={toc:d};function m(e){var n=e.components,t=(0,a.Z)(e,r);return(0,l.kt)("wrapper",(0,o.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Vue\u7ec4\u4ef6\u7684\u53e6\u4e00\u4e2a\u91cd\u8981\u6982\u5ff5\u662f\u63d2\u69fd\uff0c\u5b83\u5141\u8bb8\u4f60\u4ee5\u4e00\u79cd\u4e0d\u540c\u4e8e\u4e25\u683c\u7684\u7236\u5b50\u5173\u7cfb\u7684\u65b9\u5f0f\u7ec4\u5408\u7ec4\u4ef6\u3002\u63d2\u69fd\u4e3a\u4f60\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5c06\u5185\u5bb9\u653e\u7f6e\u5230\u65b0\u4f4d\u7f6e\u6216\u4f7f\u7ec4\u4ef6\u66f4\u901a\u7528\u7684\u51fa\u53e3\u3002\u8fd9\u4e00\u8282\u5c06\u56f4\u7ed5\u5b98\u7f51\u5bf9\u63d2\u69fd\u5185\u5bb9\u7684\u4ecb\u7ecd\u601d\u8def\uff0c\u6309\u7167\u666e\u901a\u63d2\u69fd\uff0c\u5177\u540d\u63d2\u69fd\uff0c\u518d\u5230\u4f5c\u7528\u57df\u63d2\u69fd\u7684\u601d\u8def\uff0c\u9010\u6b65\u6df1\u5165\u5185\u90e8\u7684\u5b9e\u73b0\u539f\u7406,\u6709\u5bf9\u63d2\u69fd\u4f7f\u7528\u4e0d\u719f\u6089\u7684\uff0c\u53ef\u4ee5\u5148\u53c2\u8003\u5b98\u7f51\u5bf9",(0,l.kt)("a",{parentName:"p",href:"https://cn.vuejs.org/v2/guide/components-slots.html"},"\u63d2\u69fd"),"\u7684\u4ecb\u7ecd\u3002")),(0,l.kt)("h2",{id:"101-\u666e\u901a\u63d2\u69fd"},"10.1 \u666e\u901a\u63d2\u69fd"),(0,l.kt)("p",null,"\u63d2\u69fd\u5c06",(0,l.kt)("inlineCode",{parentName:"p"},"<slot></slot>"),"\u4f5c\u4e3a\u5b50\u7ec4\u4ef6\u627f\u8f7d\u5206\u53d1\u7684\u8f7d\u4f53\uff0c\u7b80\u5355\u7684\u7528\u6cd5\u5982\u4e0b"),(0,l.kt)("h3",{id:"1011-\u57fa\u7840\u7528\u6cd5"},"10.1.1 \u57fa\u7840\u7528\u6cd5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},'var child = {\n  template: `<div class="child"><slot></slot></div>`\n}\nvar vm = new Vue({\n  el: \'#app\',\n  components: {\n    child\n  },\n  template: `<div id="app"><child>test</child></div>`\n})\n// \u6700\u7ec8\u6e32\u67d3\u7ed3\u679c\n<div class="child">test</div>\n')),(0,l.kt)("h3",{id:"1012-\u7ec4\u4ef6\u6302\u8f7d\u539f\u7406"},"10.1.2 \u7ec4\u4ef6\u6302\u8f7d\u539f\u7406"),(0,l.kt)("p",null,"\u63d2\u69fd\u7684\u539f\u7406\uff0c\u8d2f\u7a7f\u4e86\u6574\u4e2a\u7ec4\u4ef6\u7cfb\u7edf\u7f16\u8bd1\u5230\u6e32\u67d3\u7684\u8fc7\u7a0b\uff0c\u6240\u4ee5\u9996\u5148\u9700\u8981\u56de\u987e\u4e00\u4e0b\u5bf9\u7ec4\u4ef6\u76f8\u5173\u7f16\u8bd1\u6e32\u67d3\u6d41\u7a0b\uff0c\u7b80\u5355\u603b\u7ed3\u4e00\u4e0b\u51e0\u70b9\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4ece\u6839\u5b9e\u4f8b\u5165\u624b\u8fdb\u884c\u5b9e\u4f8b\u7684\u6302\u8f7d\uff0c\u5982\u679c\u6709\u624b\u5199\u7684",(0,l.kt)("inlineCode",{parentName:"li"},"render"),"\u51fd\u6570\uff0c\u5219\u76f4\u63a5\u8fdb\u5165",(0,l.kt)("inlineCode",{parentName:"li"},"$mount"),"\u6302\u8f7d\u6d41\u7a0b\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u53ea\u6709",(0,l.kt)("inlineCode",{parentName:"li"},"template"),"\u6a21\u677f\u5219\u9700\u8981\u5bf9\u6a21\u677f\u8fdb\u884c\u89e3\u6790\uff0c\u8fd9\u91cc\u5206\u4e3a\u4e24\u4e2a\u9636\u6bb5\uff0c\u4e00\u4e2a\u662f\u5c06\u6a21\u677f\u89e3\u6790\u4e3a",(0,l.kt)("inlineCode",{parentName:"li"},"AST"),"\u6811\uff0c\u53e6\u4e00\u4e2a\u662f\u6839\u636e\u4e0d\u540c\u5e73\u53f0\u751f\u6210\u6267\u884c\u4ee3\u7801\uff0c\u4f8b\u5982",(0,l.kt)("inlineCode",{parentName:"li"},"render"),"\u51fd\u6570\u3002"),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"$mount"),"\u6d41\u7a0b\u4e5f\u5206\u4e3a\u4e24\u6b65\uff0c\u7b2c\u4e00\u6b65\u662f\u5c06",(0,l.kt)("inlineCode",{parentName:"li"},"render"),"\u51fd\u6570\u751f\u6210",(0,l.kt)("inlineCode",{parentName:"li"},"Vnode"),"\u6811\uff0c\u5982\u679c\u9047\u5230\u5b50\u7ec4\u4ef6\u4f1a\u5148\u751f\u6210\u5b50\u7ec4\u4ef6\uff0c\u5b50\u7ec4\u4ef6\u4f1a\u4ee5",(0,l.kt)("inlineCode",{parentName:"li"},"vue-componet-"),"\u4e3a",(0,l.kt)("inlineCode",{parentName:"li"},"tag"),"\u6807\u8bb0\uff0c\u53e6\u4e00\u6b65\u662f\u628a",(0,l.kt)("inlineCode",{parentName:"li"},"Vnode"),"\u6e32\u67d3\u6210\u771f\u6b63\u7684DOM\u8282\u70b9\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u521b\u5efa\u771f\u5b9e\u8282\u70b9\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u9047\u5230\u5b50\u7684\u5360\u4f4d\u7b26\u7ec4\u4ef6\u4f1a\u8fdb\u884c\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5316\u8fc7\u7a0b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53c8\u5c06\u56de\u5230\u6d41\u7a0b\u7684\u7b2c\u4e00\u6b65\u3002")),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u5bf9",(0,l.kt)("inlineCode",{parentName:"p"},"slot"),"\u7684\u5206\u6790\u5c06\u56f4\u7ed5\u8fd9\u56db\u4e2a\u5177\u4f53\u7684\u6d41\u7a0b\u5c55\u5f00\u3002"),(0,l.kt)("h3",{id:"1013-\u7236\u7ec4\u4ef6\u5904\u7406"},"10.1.3 \u7236\u7ec4\u4ef6\u5904\u7406"),(0,l.kt)("p",null,"\u56de\u5230\u7ec4\u4ef6\u5b9e\u4f8b\u6d41\u7a0b\u4e2d\uff0c\u7236\u7ec4\u4ef6\u4f1a\u4f18\u5148\u4e8e\u5b50\u7ec4\u4ef6\u8fdb\u884c\u5b9e\u4f8b\u7684\u6302\u8f7d\uff0c\u6a21\u677f\u7684\u89e3\u6790\u548c",(0,l.kt)("inlineCode",{parentName:"p"},"render"),"\u51fd\u6570\u7684\u751f\u6210\u9636\u6bb5\u5728\u5904\u7406\u4e0a\u6ca1\u6709\u7279\u6b8a\u7684\u5dee\u5f02\uff0c\u8fd9\u91cc\u5c31\u4e0d\u5c55\u5f00\u5206\u6790\u3002\u63a5\u4e0b\u6765\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"render"),"\u51fd\u6570\u751f\u6210",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u7684\u8fc7\u7a0b\uff0c\u5728\u8fd9\u4e2a\u9636\u6bb5\u4f1a\u9047\u5230\u5b50\u7684\u5360\u4f4d\u7b26\u8282\u70b9(\u5373\uff1a",(0,l.kt)("inlineCode",{parentName:"p"},"child"),"),\u56e0\u6b64\u4f1a\u4e3a\u5b50\u7ec4\u4ef6\u521b\u5efa\u5b50\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u3002",(0,l.kt)("inlineCode",{parentName:"p"},"createComponent"),"\u6267\u884c\u4e86\u521b\u5efa\u5b50\u5360\u4f4d\u8282\u70b9",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u7684\u8fc7\u7a0b\u3002\u6211\u4eec\u628a\u91cd\u70b9\u653e\u5728\u6700\u7ec8",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u4ee3\u7801\u7684\u751f\u6210\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// \u521b\u5efa\u5b50Vnode\u8fc7\u7a0b\n  function createComponent (\n    Ctor, // \u5b50\u7c7b\u6784\u9020\u5668\n    data,\n    context, // vm\u5b9e\u4f8b\n    children, // \u7236\u7ec4\u4ef6\u9700\u8981\u5206\u53d1\u7684\u5185\u5bb9\n    tag // \u5b50\u7ec4\u4ef6\u5360\u4f4d\u7b26\n  ){\n    \xb7\xb7\xb7\n    // \u521b\u5efa\u5b50vnode\uff0c\u5176\u4e2d\u7236\u4fdd\u7559\u7684children\u5c5e\u6027\u4f1a\u4ee5\u9009\u9879\u7684\u5f62\u5f0f\u4f20\u9012\u7ed9Vnode\n    var vnode = new VNode(\n      ("vue-component-" + (Ctor.cid) + (name ? ("-" + name) : \'\')),\n      data, undefined, undefined, undefined, context,\n      { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },\n      asyncFactory\n    );\n  }\n// Vnode\u6784\u9020\u5668\nvar VNode = function VNode (tag,data,children,text,elm,context,componentOptions,asyncFactory) {\n  \xb7\xb7\xb7\n  this.componentOptions = componentOptions; // \u5b50\u7ec4\u4ef6\u7684\u9009\u9879\u76f8\u5173\n}\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"createComponent"),"\u51fd\u6570\u63a5\u6536\u7684\u7b2c\u56db\u4e2a\u53c2\u6570",(0,l.kt)("inlineCode",{parentName:"p"},"children"),"\u5c31\u662f\u7236\u7ec4\u4ef6\u9700\u8981\u5206\u53d1\u7684\u5185\u5bb9\u3002\u5728\u521b\u5efa\u5b50",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u4ee5\u4f1a",(0,l.kt)("inlineCode",{parentName:"p"},"componentOptions"),"\u914d\u7f6e\u4f20\u5165",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u6784\u9020\u5668\u4e2d\u3002",(0,l.kt)("strong",{parentName:"p"},"\u6700\u7ec8",(0,l.kt)("inlineCode",{parentName:"strong"},"Vnode"),"\u4e2d\u7236\u7ec4\u4ef6\u9700\u8981\u5206\u53d1\u7684\u5185\u5bb9\u4ee5",(0,l.kt)("inlineCode",{parentName:"strong"},"componentOptions"),"\u5c5e\u6027\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u8fd9\u662f\u63d2\u69fd\u5206\u6790\u7684\u7b2c\u4e00\u6b65"),"\u3002"),(0,l.kt)("h3",{id:"1014-\u5b50\u7ec4\u4ef6\u6d41\u7a0b"},"10.1.4 \u5b50\u7ec4\u4ef6\u6d41\u7a0b"),(0,l.kt)("p",null,"\u7236\u7ec4\u4ef6\u7684\u6700\u540e\u4e00\u4e2a\u9636\u6bb5\u662f\u5c06",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u6e32\u67d3\u4e3a\u771f\u6b63\u7684DOM\u8282\u70b9\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u5982\u679c\u9047\u5230\u5b50",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u4f1a\u4f18\u5148\u5b9e\u4f8b\u5316\u5b50\u7ec4\u4ef6\u5e76\u8fdb\u884c\u4e00\u7cfb\u5217\u5b50\u7ec4\u4ef6\u7684\u6e32\u67d3\u6d41\u7a0b\u3002\u5b50\u7ec4\u4ef6\u521d\u59cb\u5316\u4f1a\u5148\u8c03\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"_init"),"\u65b9\u6cd5\uff0c\u5e76\u4e14\u548c\u7236\u7ec4\u4ef6\u4e0d\u540c\u7684\u662f\uff0c\u5b50\u7ec4\u4ef6\u4f1a\u8c03\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"initInternalComponent"),"\u65b9\u6cd5\u62ff\u5230\u7236\u7ec4\u4ef6\u62e5\u6709\u7684\u76f8\u5173\u914d\u7f6e\u4fe1\u606f\uff0c\u5e76\u8d4b\u503c\u7ed9\u5b50\u7ec4\u4ef6\u81ea\u8eab\u7684\u914d\u7f6e\u9009\u9879\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u5b50\u7ec4\u4ef6\u7684\u521d\u59cb\u5316\nVue.prototype._init = function(options) {\n  if (options && options._isComponent) {\n    initInternalComponent(vm, options);\n  }\n  initRender(vm)\n}\nfunction initInternalComponent (vm, options) {\n    var opts = vm.$options = Object.create(vm.constructor.options);\n    var parentVnode = options._parentVnode;\n    opts.parent = options.parent;\n    opts._parentVnode = parentVnode;\n    // componentOptions\u4e3a\u5b50vnode\u8bb0\u5f55\u7684\u76f8\u5173\u4fe1\u606f\n    var vnodeComponentOptions = parentVnode.componentOptions;\n    opts.propsData = vnodeComponentOptions.propsData;\n    opts._parentListeners = vnodeComponentOptions.listeners;\n    // \u7236\u7ec4\u4ef6\u9700\u8981\u5206\u53d1\u7684\u5185\u5bb9\u8d4b\u503c\u7ed9\u5b50\u9009\u9879\u914d\u7f6e\u7684_renderChildren\n    opts._renderChildren = vnodeComponentOptions.children;\n    opts._componentTag = vnodeComponentOptions.tag;\n\n    if (options.render) {\n      opts.render = options.render;\n      opts.staticRenderFns = options.staticRenderFns;\n    }\n  }\n")),(0,l.kt)("p",null,"\u6700\u7ec8\u5728",(0,l.kt)("strong",{parentName:"p"},"\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u7684\u914d\u7f6e\u4e2d\u62ff\u5230\u4e86\u7236\u7ec4\u4ef6\u4fdd\u5b58\u7684\u5206\u53d1\u5185\u5bb9\uff0c\u8bb0\u5f55\u5728\u7ec4\u4ef6\u5b9e\u4f8b",(0,l.kt)("inlineCode",{parentName:"strong"},"$options._renderChildren"),"\u4e2d\uff0c\u8fd9\u662f\u7b2c\u4e8c\u6b65\u7684\u91cd\u70b9"),"\u3002"),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\u662f\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u5316\u4f1a\u8fdb\u5165",(0,l.kt)("inlineCode",{parentName:"p"},"initRender"),"\u9636\u6bb5\uff0c\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4f1a",(0,l.kt)("strong",{parentName:"p"},"\u5c06\u914d\u7f6e\u7684",(0,l.kt)("inlineCode",{parentName:"strong"},"_renderChildren"),"\u5c5e\u6027\u505a\u89c4\u8303\u5316\u5904\u7406\uff0c\u5e76\u5c06\u4ed6\u8d4b\u503c\u7ed9\u5b50\u5b9e\u4f8b\u4e0a\u7684",(0,l.kt)("inlineCode",{parentName:"strong"},"$slot"),"\u5c5e\u6027\uff0c\u8fd9\u662f\u7b2c\u4e09\u6b65\u7684\u91cd\u70b9"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function initRender(vm) {\n  \xb7\xb7\xb7\n  vm.$slots = resolveSlots(options._renderChildren, renderContext);// $slots\u62ff\u5230\u4e86\u5b50\u5360\u4f4d\u7b26\u8282\u70b9\u7684_renderchildren(\u5373\u9700\u8981\u5206\u53d1\u7684\u5185\u5bb9)\uff0c\u4fdd\u7559\u4f5c\u4e3a\u5b50\u5b9e\u4f8b\u7684\u5c5e\u6027\n}\n\nfunction resolveSlots (children,context) {\n    // children\u662f\u7236\u7ec4\u4ef6\u9700\u8981\u5206\u53d1\u5230\u5b50\u7ec4\u4ef6\u7684Vnode\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u6ca1\u6709\u5206\u53d1\u5185\u5bb9\n    if (!children || !children.length) {\n      return {}\n    }\n    var slots = {};\n    for (var i = 0, l = children.length; i < l; i++) {\n      var child = children[i];\n      var data = child.data;\n      // remove slot attribute if the node is resolved as a Vue slot node\n      if (data && data.attrs && data.attrs.slot) {\n        delete data.attrs.slot;\n      }\n      // named slots should only be respected if the vnode was rendered in the\n      // same context.\n      // \u5206\u652f1\u4e3a\u5177\u540d\u63d2\u69fd\u7684\u903b\u8f91\uff0c\u653e\u540e\u5206\u6790\n      if ((child.context === context || child.fnContext === context) &&\n        data && data.slot != null\n      ) {\n        var name = data.slot;\n        var slot = (slots[name] || (slots[name] = []));\n        if (child.tag === 'template') {\n          slot.push.apply(slot, child.children || []);\n        } else {\n          slot.push(child);\n        }\n      } else {\n      // \u666e\u901a\u63d2\u69fd\u7684\u91cd\u70b9\uff0c\u6838\u5fc3\u903b\u8f91\u662f\u6784\u9020{ default: [children] }\u5bf9\u8c61\u8fd4\u56de\n        (slots.default || (slots.default = [])).push(child);\n      }\n    }\n    return slots\n  }\n")),(0,l.kt)("p",null,"\u5176\u4e2d\u666e\u901a\u63d2\u69fd\u7684\u5904\u7406\u903b\u8f91\u6838\u5fc3\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"(slots.default || (slots.default = [])).push(child);"),"\uff0c\u5373\u4ee5\u6570\u7ec4\u7684\u5f62\u5f0f\u8d4b\u503c\u7ed9",(0,l.kt)("inlineCode",{parentName:"p"},"default"),"\u5c5e\u6027\uff0c\u5e76\u4ee5",(0,l.kt)("inlineCode",{parentName:"p"},"$slot"),"\u5c5e\u6027\u7684\u5f62\u5f0f\u4fdd\u5b58\u5728\u5b50\u7ec4\u4ef6\u7684\u5b9e\u4f8b\u4e2d\u3002"),(0,l.kt)("p",null,"\u968f\u540e\u5b50\u7ec4\u4ef6\u4e5f\u4f1a\u8d70\u6302\u8f7d\u7684\u6d41\u7a0b\uff0c\u540c\u6837\u4f1a\u7ecf\u5386",(0,l.kt)("inlineCode",{parentName:"p"},"template"),"\u6a21\u677f\u5230",(0,l.kt)("inlineCode",{parentName:"p"},"render"),"\u51fd\u6570\uff0c\u518d\u5230",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),",\u6700\u540e\u6e32\u67d3\u771f\u5b9e",(0,l.kt)("inlineCode",{parentName:"p"},"DOM"),"\u7684\u8fc7\u7a0b\u3002\u89e3\u6790",(0,l.kt)("inlineCode",{parentName:"p"},"AST"),"\u9636\u6bb5\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"slot"),"\u6807\u7b7e\u548c\u5176\u4ed6\u666e\u901a\u6807\u7b7e\u5904\u7406\u76f8\u540c\uff0c",(0,l.kt)("strong",{parentName:"p"},"\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e",(0,l.kt)("inlineCode",{parentName:"strong"},"AST"),"\u751f\u6210",(0,l.kt)("inlineCode",{parentName:"strong"},"render"),"\u51fd\u6570\u9636\u6bb5\uff0c\u5bf9",(0,l.kt)("inlineCode",{parentName:"strong"},"slot"),"\u6807\u7b7e\u7684\u5904\u7406\uff0c\u4f1a\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"strong"},"_t\u51fd\u6570"),"\u8fdb\u884c\u5305\u88f9\u3002\u8fd9\u662f\u5173\u952e\u6b65\u9aa4\u7684\u7b2c\u56db\u6b65")),(0,l.kt)("p",null,"\u5b50\u7ec4\u4ef6\u6e32\u67d3\u7684\u5927\u81f4\u6d41\u7a0b\u7b80\u5355\u68b3\u7406\u5982\u4e0b:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'// ast \u751f\u6210 render\u51fd\u6570\nvar code = generate(ast, options);\n// generate\u5b9e\u73b0\nfunction generate(ast, options) {\n  var state = new CodegenState(options);\n  var code = ast ? genElement(ast, state) : \'_c("div")\';\n  return {\n    render: ("with(this){return " + code + "}"),\n    staticRenderFns: state.staticRenderFns\n  }\n}\n// genElement\u5b9e\u73b0\nfunction genElement(el, state) {\n  // \u9488\u5bf9slot\u6807\u7b7e\u7684\u5904\u7406\u8d70```genSlot```\u5206\u652f\n  if (el.tag === \'slot\') {\n    return genSlot(el, state)\n  }\n}\n// \u6838\u5fc3genSlot\u539f\u7406\nfunction genSlot (el, state) {\n    // slotName\u8bb0\u5f55\u7740\u63d2\u69fd\u7684\u552f\u4e00\u6807\u5fd7\u540d\uff0c\u9ed8\u8ba4\u4e3adefault\n    var slotName = el.slotName || \'"default"\';\n    // \u5982\u679c\u5b50\u7ec4\u4ef6\u7684\u63d2\u69fd\u8fd8\u6709\u5b50\u5143\u7d20\uff0c\u5219\u4f1a\u9012\u5f52\u8c03\u6267\u884c\u5b50\u5143\u7d20\u7684\u521b\u5efa\u8fc7\u7a0b\n    var children = genChildren(el, state);\n    // \u901a\u8fc7_t\u51fd\u6570\u5305\u88f9\n    var res = "_t(" + slotName + (children ? ("," + children) : \'\');\n    // \u5177\u540d\u63d2\u69fd\u7684\u5176\u4ed6\u5904\u7406\n    \xb7\xb7\xb7    \n    return res + \')\'\n  }\n')),(0,l.kt)("p",null,"\u6700\u7ec8\u5b50\u7ec4\u4ef6\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"render"),"\u51fd\u6570\u4e3a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'"with(this){return _c(\'div\',{staticClass:"child"},[_t("default")],2)}"\n')),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u7b2c\u4e94\u6b65\u5230\u4e86\u5b50\u7ec4\u4ef6\u6e32\u67d3\u4e3a",(0,l.kt)("inlineCode",{parentName:"strong"},"Vnode"),"\u7684\u8fc7\u7a0b\u3002",(0,l.kt)("inlineCode",{parentName:"strong"},"render"),"\u51fd\u6570\u6267\u884c\u9636\u6bb5\u4f1a\u6267\u884c",(0,l.kt)("inlineCode",{parentName:"strong"},"_t()"),"\u51fd\u6570\uff0c",(0,l.kt)("inlineCode",{parentName:"strong"},"_t"),"\u51fd\u6570\u662f",(0,l.kt)("inlineCode",{parentName:"strong"},"renderSlot"),"\u51fd\u6570\u7b80\u5199\uff0c\u5b83\u4f1a\u5728",(0,l.kt)("inlineCode",{parentName:"strong"},"Vnode"),"\u6811\u4e2d\u8fdb\u884c\u5206\u53d1\u5185\u5bb9\u7684\u66ff\u6362"),"\uff0c\u5177\u4f53\u770b\u770b\u5b9e\u73b0\u903b\u8f91\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"\n// target._t = renderSlot;\n\n// render\u51fd\u6570\u6e32\u67d3Vnode\u51fd\u6570\nVue.prototype._render = function() {\n  var _parentVnode = ref._parentVnode;\n  if (_parentVnode) {\n    // slots\u7684\u89c4\u8303\u5316\u5904\u7406\u5e76\u8d4b\u503c\u7ed9$scopedSlots\u5c5e\u6027\u3002\n    vm.$scopedSlots = normalizeScopedSlots(\n      _parentVnode.data.scopedSlots,\n      vm.$slots, // \u8bb0\u5f55\u7236\u7ec4\u4ef6\u7684\u63d2\u69fd\u5185\u5bb9\n      vm.$scopedSlots\n    );\n  }\n}\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"normalizeScopedSlots"),"\u7684\u903b\u8f91\u8f83\u957f\uff0c\u4f46\u5e76\u4e0d\u662f\u672c\u8282\u7684\u91cd\u70b9\u3002\u62ff\u5230",(0,l.kt)("inlineCode",{parentName:"p"},"$scopedSlots"),"\u5c5e\u6027\u540e\u4f1a\u6267\u884c\u771f\u6b63\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"render"),"\u51fd\u6570,\u5176\u4e2d",(0,l.kt)("inlineCode",{parentName:"p"},"_t"),"\u7684\u6267\u884c\u903b\u8f91\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u6e32\u67d3slot\u7ec4\u4ef6\u5185\u5bb9\n  function renderSlot (\n    name,\n    fallback, // slot\u63d2\u69fd\u540e\u5907\u5185\u5bb9(\u9488\u5bf9\u540e\u5907\u5185\u5bb9)\n    props, // \u5b50\u4f20\u7ed9\u7236\u7684\u503c(\u4f5c\u7528\u57df\u63d2\u69fd)\n    bindObject\n  ) {\n    // scopedSlotFn\u62ff\u5230\u7236\u7ec4\u4ef6\u63d2\u69fd\u7684\u6267\u884c\u51fd\u6570\uff0c\u9ed8\u8ba4slotname\u4e3adefault\n    var scopedSlotFn = this.$scopedSlots[name];\n    var nodes;\n    // \u5177\u540d\u63d2\u69fd\u5206\u652f(\u6682\u65f6\u5ffd\u7565)\n    if (scopedSlotFn) { // scoped slot\n      props = props || {};\n      if (bindObject) {\n        if (!isObject(bindObject)) {\n          warn(\n            'slot v-bind without argument expects an Object',\n            this\n          );\n        }\n        props = extend(extend({}, bindObject), props);\n      }\n      // \u6267\u884c\u65f6\u5c06\u5b50\u7ec4\u4ef6\u4f20\u9012\u7ed9\u7236\u7ec4\u4ef6\u7684\u503c\u4f20\u5165fn\n      nodes = scopedSlotFn(props) || fallback;\n    } else {\n      // \u5982\u679c\u7236\u5360\u4f4d\u7b26\u7ec4\u4ef6\u6ca1\u6709\u63d2\u69fd\u5185\u5bb9\uff0cthis.$slots\u4e0d\u4f1a\u6709\u503c\uff0c\u6b64\u65f6vnode\u8282\u70b9\u4e3a\u540e\u5907\u5185\u5bb9\u8282\u70b9\u3002\n      nodes = this.$slots[name] || fallback;\n    }\n\n    var target = props && props.slot;\n    if (target) {\n      return this.$createElement('template', { slot: target }, nodes)\n    } else {\n      return nodes\n    }\n  }\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"renderSlot"),"\u6267\u884c\u8fc7\u7a0b\u4f1a\u62ff\u5230\u7236\u7ec4\u4ef6\u9700\u8981\u5206\u53d1\u7684\u5185\u5bb9\uff0c\u6700\u7ec8",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u6811\u5c06\u7236\u5143\u7d20\u7684\u63d2\u69fd\u66ff\u6362\u6389\u5b50\u7ec4\u4ef6\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"slot"),"\u7ec4\u4ef6\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6700\u540e\u4e00\u6b65\u5c31\u662f\u5b50\u7ec4\u4ef6\u771f\u5b9e\u8282\u70b9\u7684\u6e32\u67d3\u4e86\uff0c\u8fd9\u70b9\u6ca1\u6709\u4ec0\u4e48\u7279\u522b\u70b9\uff0c\u548c\u4ee5\u5f80\u4ecb\u7ecd\u7684\u6d41\u7a0b\u4e00\u81f4"),"\u3002"),(0,l.kt)("p",null,"\u81f3\u6b64\uff0c\u4e00\u4e2a\u5b8c\u6574\u4e14\u7b80\u5355\u7684\u63d2\u69fd\u6d41\u7a0b\u5206\u6790\u5b8c\u6bd5\u3002\u63a5\u4e0b\u6765\u770b\u63d2\u69fd\u6df1\u5c42\u6b21\u7684\u7528\u6cd5\u3002"),(0,l.kt)("h2",{id:"102-\u5177\u6709\u540e\u5907\u5185\u5bb9\u7684\u63d2\u69fd"},"10.2 \u5177\u6709\u540e\u5907\u5185\u5bb9\u7684\u63d2\u69fd"),(0,l.kt)("p",null,"\u6709\u65f6\u4e3a\u4e00\u4e2a\u63d2\u69fd\u8bbe\u7f6e\u5177\u4f53\u7684\u540e\u5907 (\u4e5f\u5c31\u662f\u9ed8\u8ba4\u7684) \u5185\u5bb9\u662f\u5f88\u6709\u7528\u7684\uff0c\u5b83\u53ea\u4f1a\u5728\u6ca1\u6709\u63d0\u4f9b\u5185\u5bb9\u7684\u65f6\u5019\u88ab\u6e32\u67d3\u3002\u67e5\u770b\u6e90\u7801\u53d1\u73b0\u540e\u5907\u5185\u5bb9\u63d2\u69fd\u7684\u903b\u8f91\u4e5f\u5f88\u597d\u7406\u89e3\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'var child = {\n  template: `<div class="child"><slot>\u540e\u5907\u5185\u5bb9</slot></div>`\n}\nvar vm = new Vue({\n  el: \'#app\',\n  components: {\n    child\n  },\n  template: `<div id="app"><child></child></div>`\n})\n// \u7236\u6ca1\u6709\u63d2\u69fd\u5185\u5bb9\uff0c\u5b50\u7684slot\u4f1a\u6e32\u67d3\u540e\u5907\u5185\u5bb9\n<div class="child">\u540e\u5907\u5185\u5bb9</div>\n')),(0,l.kt)("p",null,"\u7236\u7ec4\u4ef6\u6ca1\u6709\u9700\u8981\u5206\u53d1\u7684\u5185\u5bb9\uff0c\u5b50\u7ec4\u4ef6\u4f1a\u9ed8\u8ba4\u663e\u793a\u63d2\u69fd\u91cc\u9762\u7684\u5185\u5bb9\u3002\u6e90\u7801\u4e2d\u7684\u4e0d\u540c\u4f53\u73b0\u5728\u4e0b\u9762\u7684\u51e0\u70b9\u3002"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u7236\u7ec4\u4ef6\u6e32\u67d3\u8fc7\u7a0b\u7531\u4e8e\u6ca1\u6709\u9700\u8981\u5206\u53d1\u7684\u5b50\u8282\u70b9\uff0c\u6240\u4ee5\u4e0d\u518d\u9700\u8981\u62e5\u6709",(0,l.kt)("inlineCode",{parentName:"li"},"componentOptions.children"),"\u5c5e\u6027\u6765\u8bb0\u5f55\u5185\u5bb9\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u56e0\u6b64\u5b50\u7ec4\u4ef6\u4e5f\u62ff\u4e0d\u5230",(0,l.kt)("inlineCode",{parentName:"li"},"$slot"),"\u5c5e\u6027\u7684\u5185\u5bb9."),(0,l.kt)("li",{parentName:"ol"},"\u5b50\u7ec4\u4ef6\u7684",(0,l.kt)("inlineCode",{parentName:"li"},"render"),"\u51fd\u6570\u6700\u540e\u5728",(0,l.kt)("inlineCode",{parentName:"li"},"_t"),"\u51fd\u6570\u53c2\u6570\u4f1a\u643a\u5e26\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4ee5\u6570\u7ec4\u7684\u5f62\u5f0f\u4f20\u5165",(0,l.kt)("inlineCode",{parentName:"li"},"slot"),"\u63d2\u69fd\u7684\u540e\u5907\u5185\u5bb9\u3002\u4f8b",(0,l.kt)("inlineCode",{parentName:"li"},'with(this){return _c(\'div\',{staticClass:"child"},[_t("default",[_v("test")])],2)}')),(0,l.kt)("li",{parentName:"ol"},"\u6e32\u67d3\u5b50",(0,l.kt)("inlineCode",{parentName:"li"},"Vnode"),"\u4f1a\u6267\u884c",(0,l.kt)("inlineCode",{parentName:"li"},"renderSlot(\u5373\uff1a_t)"),"\u51fd\u6570\u65f6\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570",(0,l.kt)("inlineCode",{parentName:"li"},"fallback"),"\u6709\u503c\uff0c\u4e14",(0,l.kt)("inlineCode",{parentName:"li"},"this.$slots"),"\u6ca1\u503c\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"vnode"),"\u4f1a\u76f4\u63a5\u8fd4\u56de\u540e\u5907\u5185\u5bb9\u4f5c\u4e3a\u6e32\u67d3\u5bf9\u8c61\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function renderSlot (\n    name,\n    fallback, // slot\u63d2\u69fd\u540e\u5907\u5185\u5bb9(\u9488\u5bf9\u540e\u5907\u5185\u5bb9)\n    props, // \u5b50\u4f20\u7ed9\u7236\u7684\u503c(\u4f5c\u7528\u57df\u63d2\u69fd)\n    bindObject\n){\n    if() {\n      \xb7\xb7\xb7\n    }else{\n      //fallback\u4e3a\u540e\u5907\u5185\u5bb9\n      // \u5982\u679c\u7236\u5360\u4f4d\u7b26\u7ec4\u4ef6\u6ca1\u6709\u63d2\u69fd\u5185\u5bb9\uff0cthis.$slots\u4e0d\u4f1a\u6709\u503c\uff0c\u6b64\u65f6vnode\u8282\u70b9\u4e3a\u540e\u5907\u5185\u5bb9\u8282\u70b9\u3002\n      nodes = this.$slots[name] || fallback;\n    }\n}\n    \n")),(0,l.kt)("p",null,"\u6700\u7ec8\uff0c\u5728\u7236\u7ec4\u4ef6\u6ca1\u6709\u63d0\u4f9b\u5185\u5bb9\u65f6\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"slot"),"\u7684\u540e\u5907\u5185\u5bb9\u88ab\u6e32\u67d3\u3002"),(0,l.kt)("p",null,"\u6709\u4e86\u8fd9\u4e9b\u57fa\u7840\uff0c\u6211\u4eec\u518d\u6765\u770b\u5b98\u7f51\u7ed9\u7684\u4e00\u6761\u89c4\u5219\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u7236\u7ea7\u6a21\u677f\u91cc\u7684\u6240\u6709\u5185\u5bb9\u90fd\u662f\u5728\u7236\u7ea7\u4f5c\u7528\u57df\u4e2d\u7f16\u8bd1\u7684\uff1b\u5b50\u6a21\u677f\u91cc\u7684\u6240\u6709\u5185\u5bb9\u90fd\u662f\u5728\u5b50\u4f5c\u7528\u57df\u4e2d\u7f16\u8bd1\u7684\u3002")),(0,l.kt)("p",null,"\u7236\u7ec4\u4ef6\u6a21\u677f\u7684\u5185\u5bb9\u5728\u7236\u7ec4\u4ef6\u7f16\u8bd1\u9636\u6bb5\u5c31\u786e\u5b9a\u4e86,\u5e76\u4e14\u4fdd\u5b58\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"componentOptions"),"\u5c5e\u6027\u4e2d\uff0c\u800c\u5b50\u7ec4\u4ef6\u6709\u81ea\u8eab\u521d\u59cb\u5316",(0,l.kt)("inlineCode",{parentName:"p"},"init"),"\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u540c\u6837\u4f1a\u8fdb\u884c\u5b50\u4f5c\u7528\u57df\u7684\u6a21\u677f\u7f16\u8bd1\uff0c\u56e0\u6b64\u4e24\u90e8\u5206\u5185\u5bb9\u662f\u76f8\u5bf9\u72ec\u7acb\u7684\u3002"),(0,l.kt)("h2",{id:"103-\u5177\u540d\u63d2\u69fd"},"10.3 \u5177\u540d\u63d2\u69fd"),(0,l.kt)("p",null,"\u5f80\u5f80\u6211\u4eec\u9700\u8981\u7075\u6d3b\u7684\u4f7f\u7528\u63d2\u69fd\u8fdb\u884c\u901a\u7528\u7ec4\u4ef6\u7684\u5f00\u53d1\uff0c\u8981\u6c42\u7236\u7ec4\u4ef6\u6bcf\u4e2a\u6a21\u677f\u5bf9\u5e94\u5b50\u7ec4\u4ef6\u4e2d\u6bcf\u4e2a\u63d2\u69fd\uff0c\u8fd9\u65f6\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"<slot>"),"\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"name"),"\u5c5e\u6027\uff0c\u540c\u6837\u4e3e\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'var child = {\n  template: `<div class="child"><slot name="header"></slot><slot name="footer"></slot></div>`,\n}\nvar vm = new Vue({\n  el: \'#app\',\n  components: {\n    child\n  },\n  template: `<div id="app"><child><template v-slot:header><span>\u5934\u90e8</span></template><template v-slot:footer><span>\u5e95\u90e8</span></template></child></div>`,\n})\n')),(0,l.kt)("p",null,"\u6e32\u67d3\u7ed3\u679c\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'<div class="child"><span>\u5934\u90e8</span><span>\u5e95\u90e8</span></div>\n')),(0,l.kt)("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u5728\u666e\u901a\u63d2\u69fd\u7684\u57fa\u7840\u4e0a\uff0c\u770b\u770b\u6e90\u7801\u5728\u5177\u540d\u63d2\u69fd\u5b9e\u73b0\u4e0a\u7684\u533a\u522b\u3002"),(0,l.kt)("h3",{id:"1031-\u6a21\u677f\u7f16\u8bd1\u7684\u5dee\u522b"},"10.3.1 \u6a21\u677f\u7f16\u8bd1\u7684\u5dee\u522b"),(0,l.kt)("p",null,"\u7236\u7ec4\u4ef6\u5728\u7f16\u8bd1",(0,l.kt)("inlineCode",{parentName:"p"},"AST"),"\u9636\u6bb5\u548c\u666e\u901a\u8282\u70b9\u7684\u8fc7\u7a0b\u4e0d\u540c\uff0c\u5177\u540d\u63d2\u69fd\u4e00\u822c\u4f1a\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"template"),"\u6a21\u677f\u4e2d\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"v-slot:"),"\u6765\u6807\u6ce8\u6307\u5b9a\u63d2\u69fd\uff0c\u8fd9\u4e00\u9636\u6bb5\u4f1a\u5728\u7f16\u8bd1\u9636\u6bb5\u7279\u6b8a\u5904\u7406\u3002\u6700\u7ec8\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"AST"),"\u6811\u4f1a\u643a\u5e26",(0,l.kt)("inlineCode",{parentName:"p"},"scopedSlots"),"\u7528\u6765\u8bb0\u5f55\u5177\u540d\u63d2\u69fd\u7684\u5185\u5bb9"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"{\n  scopedSlots\uff1a {\n    footer: { \xb7\xb7\xb7 },\n    header: { \xb7\xb7\xb7 }\n  }\n}\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"AST"),"\u751f\u6210",(0,l.kt)("inlineCode",{parentName:"p"},"render"),"\u51fd\u6570\u7684\u8fc7\u7a0b\u4e5f\u4e0d\u8be6\u7ec6\u5206\u6790\u4e86\uff0c\u6211\u4eec\u53ea\u5206\u6790\u7236\u7ec4\u4ef6\u6700\u7ec8\u8fd4\u56de\u7684\u7ed3\u679c(\u5982\u679c\u5bf9",(0,l.kt)("inlineCode",{parentName:"p"},"parse, generate"),"\u611f\u5174\u8da3\u7684\u540c\u5b66\uff0c\u53ef\u4ee5\u76f4\u63a5\u770b\u6e90\u7801\u5206\u6790,\u7f16\u8bd1\u9636\u6bb5\u5197\u957f\u4e14\u96be\u4ee5\u8bb2\u89e3\uff0c\u8df3\u8fc7\u8fd9\u90e8\u5206\u5206\u6790)"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'with(this){return _c(\'div\',{attrs:{"id":"app"}},[_c(\'child\',{scopedSlots:_u([{key:"header",fn:function(){return [_c(\'span\',[_v("\u5934\u90e8")])]},proxy:true},{key:"footer",fn:function(){return [_c(\'span\',[_v("\u5e95\u90e8")])]},proxy:true}])})],1)}\n')),(0,l.kt)("p",null,"\u5f88\u660e\u663e\uff0c\u7236\u7ec4\u4ef6\u7684\u63d2\u69fd\u5185\u5bb9\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"_u"),"\u51fd\u6570\u5c01\u88c5\u6210\u6570\u7ec4\u7684\u5f62\u5f0f\uff0c\u5e76\u8d4b\u503c\u5230",(0,l.kt)("inlineCode",{parentName:"p"},"scopedSlots"),"\u5c5e\u6027\u4e2d\uff0c\u800c\u6bcf\u4e00\u4e2a\u63d2\u69fd\u4ee5\u5bf9\u8c61\u5f62\u5f0f\u63cf\u8ff0\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"key"),"\u4ee3\u8868\u63d2\u69fd\u540d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"fn"),"\u662f\u4e00\u4e2a\u8fd4\u56de\u6267\u884c\u7ed3\u679c\u7684\u51fd\u6570\u3002"),(0,l.kt)("h3",{id:"1032-\u7236\u7ec4\u4ef6vnode\u751f\u6210\u9636\u6bb5"},"10.3.2 \u7236\u7ec4\u4ef6vnode\u751f\u6210\u9636\u6bb5"),(0,l.kt)("p",null,"\u7167\u4f8b\u8fdb\u5165\u7236\u7ec4\u4ef6\u751f\u6210",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u9636\u6bb5\uff0c\u5176\u4e2d",(0,l.kt)("inlineCode",{parentName:"p"},"_u"),"\u51fd\u6570\u7684\u539f\u5f62\u662f",(0,l.kt)("inlineCode",{parentName:"p"},"resolveScopedSlots"),",\u5176\u4e2d\u7b2c\u4e00\u4e2a\u53c2\u6570\u5c31\u662f\u63d2\u69fd\u6570\u7ec4\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// vnode\u751f\u6210\u9636\u6bb5\u9488\u5bf9\u5177\u540d\u63d2\u69fd\u7684\u5904\u7406 _u      (target._u = resolveScopedSlots)\n  function resolveScopedSlots (fns,res,hasDynamicKeys,contentHashKey) {\n    res = res || { $stable: !hasDynamicKeys };\n    for (var i = 0; i < fns.length; i++) {\n      var slot = fns[i];\n      // fn\u662f\u6570\u7ec4\u9700\u8981\u9012\u5f52\u5904\u7406\u3002\n      if (Array.isArray(slot)) {\n        resolveScopedSlots(slot, res, hasDynamicKeys);\n      } else if (slot) {\n        // marker for reverse proxying v-slot without scope on this.$slots\n        if (slot.proxy) { //  \u9488\u5bf9proxy\u7684\u5904\u7406\n          slot.fn.proxy = true;\n        }\n        // \u6700\u7ec8\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u4ee5slotname\u4f5c\u4e3a\u5c5e\u6027\uff0c\u4ee5fn\u4f5c\u4e3a\u503c\n        res[slot.key] = slot.fn;\n      }\n    }\n    if (contentHashKey) {\n      (res).$key = contentHashKey;\n    }\n    return res\n  }\n")),(0,l.kt)("p",null,"\u6700\u7ec8\u7236\u7ec4\u4ef6\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"vnode"),"\u8282\u70b9\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"data"),"\u5c5e\u6027\u4e0a\u591a\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"scopedSlots"),"\u6570\u7ec4\u3002",(0,l.kt)("strong",{parentName:"p"},"\u56de\u987e\u4e00\u4e0b\uff0c\u5177\u540d\u63d2\u69fd\u548c\u666e\u901a\u63d2\u69fd\u5b9e\u73b0\u4e0a\u6709\u660e\u663e\u7684\u4e0d\u540c\uff0c\u666e\u901a\u63d2\u69fd\u662f\u4ee5",(0,l.kt)("inlineCode",{parentName:"strong"},"componentOptions.child"),"\u7684\u5f62\u5f0f\u4fdd\u7559\u5728\u7236\u7ec4\u4ef6\u4e2d\uff0c\u800c\u5177\u540d\u63d2\u69fd\u662f\u4ee5",(0,l.kt)("inlineCode",{parentName:"strong"},"scopedSlots"),"\u5c5e\u6027\u7684\u5f62\u5f0f\u5b58\u50a8\u5230",(0,l.kt)("inlineCode",{parentName:"strong"},"data"),"\u5c5e\u6027\u4e2d\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// vnode\n{\n  scopedSlots: [{\n    'header': fn,\n    'footer': fn\n  }]\n}\n")),(0,l.kt)("h3",{id:"1033-\u5b50\u7ec4\u4ef6\u6e32\u67d3vnode\u8fc7\u7a0b"},"10.3.3 \u5b50\u7ec4\u4ef6\u6e32\u67d3Vnode\u8fc7\u7a0b"),(0,l.kt)("p",null,"\u5b50\u7ec4\u4ef6\u5728\u89e3\u6790\u6210",(0,l.kt)("inlineCode",{parentName:"p"},"AST"),"\u6811\u9636\u6bb5\u7684\u4e0d\u540c\uff0c\u5728\u4e8e\u5bf9",(0,l.kt)("inlineCode",{parentName:"p"},"slot"),"\u6807\u7b7e\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"name"),"\u5c5e\u6027\u7684\u89e3\u6790,\u800c\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"render"),"\u751f\u6210",(0,l.kt)("inlineCode",{parentName:"p"},"Vnode"),"\u8fc7\u7a0b\u4e2d\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"slot"),"\u7684\u89c4\u8303\u5316\u5904\u7406\u9488\u5bf9\u5177\u540d\u63d2\u69fd\u4f1a\u8fdb\u884c\u7279\u6b8a\u7684\u5904\u7406\uff0c\u56de\u5230",(0,l.kt)("inlineCode",{parentName:"p"},"normalizeScopedSlots"),"\u7684\u4ee3\u7801"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"vm.$scopedSlots = normalizeScopedSlots(\n  _parentVnode.data.scopedSlots, // \u6b64\u65f6\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4f1a\u62ff\u5230\u7236\u7ec4\u4ef6\u63d2\u69fd\u76f8\u5173\u7684\u6570\u636e\n  vm.$slots, // \u8bb0\u5f55\u7236\u7ec4\u4ef6\u7684\u63d2\u69fd\u5185\u5bb9\n  vm.$scopedSlots\n);\n\n")),(0,l.kt)("p",null,"\u6700\u7ec8\u5b50\u7ec4\u4ef6\u5b9e\u4f8b\u4e0a\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"$scopedSlots"),"\u5c5e\u6027\u4f1a\u643a\u5e26\u7236\u7ec4\u4ef6\u63d2\u69fd\u76f8\u5173\u7684\u5185\u5bb9\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u5b50\u7ec4\u4ef6Vnode\n{\n  $scopedSlots: [{\n    'header': f,\n    'footer': f\n  }]\n}\n")),(0,l.kt)("h3",{id:"1034-\u5b50\u7ec4\u4ef6\u6e32\u67d3\u771f\u5b9edom"},"10.3.4 \u5b50\u7ec4\u4ef6\u6e32\u67d3\u771f\u5b9edom"),(0,l.kt)("p",null,"\u548c\u666e\u901a\u63d2\u69fd\u7c7b\u4f3c\uff0c\u5b50\u7ec4\u4ef6\u6e32\u67d3\u771f\u5b9e\u8282\u70b9\u7684\u8fc7\u7a0b\u4f1a\u6267\u884c\u5b50",(0,l.kt)("inlineCode",{parentName:"p"},"render"),"\u51fd\u6570\u4e2d\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"_t"),"\u65b9\u6cd5\uff0c\u8fd9\u90e8\u5206\u7684\u6e90\u7801\u4f1a\u548c\u666e\u901a\u63d2\u69fd\u8d70\u4e0d\u540c\u7684\u5206\u652f\uff0c\u5176\u4e2d",(0,l.kt)("inlineCode",{parentName:"p"},"this.$scopedSlots"),"\u6839\u636e\u4e0a\u9762\u5206\u6790\u4f1a\u8bb0\u5f55\u7740\u7236\u7ec4\u4ef6\u63d2\u69fd\u5185\u5bb9\u76f8\u5173\u7684\u6570\u636e\uff0c\u6240\u4ee5\u4f1a\u548c\u666e\u901a\u63d2\u69fd\u8d70\u4e0d\u540c\u7684\u5206\u652f\u3002\u800c\u6700\u7ec8\u7684\u6838\u5fc3\u662f\u6267\u884c",(0,l.kt)("inlineCode",{parentName:"p"},"nodes = scopedSlotFn(props)"),",\u4e5f\u5c31\u662f\u6267\u884c",(0,l.kt)("inlineCode",{parentName:"p"},"function(){return [_c('span',[_v(\"\u5934\u90e8\")])]}"),",\u5177\u540d\u63d2\u69fd\u4e4b\u6240\u4ee5\u662f\u51fd\u6570\u7684\u5f62\u5f0f\u6267\u884c\u800c\u4e0d\u662f\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\uff0c\u6211\u4eec\u5728\u540e\u9762\u63ed\u6653\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"function renderSlot (\n    name,\n    fallback, // slot\u63d2\u69fd\u540e\u5907\u5185\u5bb9\n    props, // \u5b50\u4f20\u7ed9\u7236\u7684\u503c\n    bindObject\n  ){\n    var scopedSlotFn = this.$scopedSlots[name];\n    var nodes;\n    // \u9488\u5bf9\u5177\u540d\u63d2\u69fd\uff0c\u7279\u70b9\u662f$scopedSlots\u6709\u503c\n    if (scopedSlotFn) { // scoped slot\n      props = props || {};\n      if (bindObject) {\n        if (!isObject(bindObject)) {\n          warn('slot v-bind without argument expects an Object',this);\n        }\n        props = extend(extend({}, bindObject), props);\n      }\n      // \u6267\u884c\u65f6\u5c06\u5b50\u7ec4\u4ef6\u4f20\u9012\u7ed9\u7236\u7ec4\u4ef6\u7684\u503c\u4f20\u5165fn\n      nodes = scopedSlotFn(props) || fallback;\n    }\xb7\xb7\xb7\n  }\n")),(0,l.kt)("p",null,"\u81f3\u6b64\u5b50\u7ec4\u4ef6\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"slotName"),"\u627e\u5230\u4e86\u5bf9\u5e94\u7236\u7ec4\u4ef6\u7684\u63d2\u69fd\u5185\u5bb9\u3002"),(0,l.kt)("h2",{id:"104-\u4f5c\u7528\u57df\u63d2\u69fd"},"10.4 \u4f5c\u7528\u57df\u63d2\u69fd"),(0,l.kt)("p",null,"\u6700\u540e\u8bf4\u8bf4\u4f5c\u7528\u57df\u63d2\u69fd\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u4f5c\u7528\u57df\u63d2\u69fd\u8ba9\u7236\u7ec4\u4ef6\u7684\u63d2\u69fd\u5185\u5bb9\u8bbf\u95ee\u5230\u5b50\u7ec4\u4ef6\u7684\u6570\u636e\uff0c\u5177\u4f53\u7684\u7528\u6cd5\u662f\u5728\u5b50\u7ec4\u4ef6\u4e2d\u4ee5\u5c5e\u6027\u7684\u65b9\u5f0f\u8bb0\u5f55\u5728\u5b50\u7ec4\u4ef6\u4e2d\uff0c\u7236\u7ec4\u4ef6\u901a\u8fc7",(0,l.kt)("inlineCode",{parentName:"p"},"v-slot:[name]=[props]"),"\u7684\u5f62\u5f0f\u62ff\u5230\u5b50\u7ec4\u4ef6\u4f20\u9012\u7684\u503c\u3002\u5b50\u7ec4\u4ef6",(0,l.kt)("inlineCode",{parentName:"p"},"<slot>"),"\u5143\u7d20\u4e0a\u7684\u7279\u6027\u79f0\u4e3a",(0,l.kt)("strong",{parentName:"p"},"\u63d2\u69fd",(0,l.kt)("inlineCode",{parentName:"strong"},"Props")),",\u53e6\u5916\uff0cvue2.6\u4ee5\u540e\u7684\u7248\u672c\u5df2\u7ecf\u5f03\u7528\u4e86",(0,l.kt)("inlineCode",{parentName:"p"},"slot-scoped"),"\uff0c\u91c7\u7528",(0,l.kt)("inlineCode",{parentName:"p"},"v-slot"),"\u4ee3\u66ff\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'var child = {\n  template: `<div><slot :user="user"></div>`,\n  data() {\n    return {\n      user: {\n        firstname: \'test\'\n      }\n    }\n  }\n}\nvar vm = new Vue({\n  el: \'#app\',\n  components: {\n    child\n  },\n  template: `<div id="app"><child><template v-slot:default="slotProps">{{slotProps.user.firstname}}</template></child></div>`\n})\n')),(0,l.kt)("p",null,"\u4f5c\u7528\u57df\u63d2\u69fd\u548c\u5177\u540d\u63d2\u69fd\u7684\u539f\u7406\u7c7b\u4f3c\uff0c\u6211\u4eec\u63a5\u7740\u5f80\u4e0b\u770b\u3002"),(0,l.kt)("h3",{id:"1041-\u7236\u7ec4\u4ef6\u7f16\u8bd1\u9636\u6bb5"},"10.4.1 \u7236\u7ec4\u4ef6\u7f16\u8bd1\u9636\u6bb5"),(0,l.kt)("p",null,"\u4f5c\u7528\u57df\u63d2\u69fd\u548c\u5177\u540d\u63d2\u69fd\u5728\u7236\u7ec4\u4ef6\u7684\u7528\u6cd5\u57fa\u672c\u76f8\u540c\uff0c\u533a\u522b\u5728\u4e8e",(0,l.kt)("inlineCode",{parentName:"p"},"v-slot"),"\u5b9a\u4e49\u4e86\u4e00\u4e2a\u63d2\u69fd",(0,l.kt)("inlineCode",{parentName:"p"},"props"),"\u7684\u540d\u5b57\uff0c\u53c2\u8003\u5bf9\u4e8e\u5177\u540d\u63d2\u69fd\u7684\u5206\u6790\uff0c\u751f\u6210",(0,l.kt)("inlineCode",{parentName:"p"},"render"),"\u51fd\u6570\u9636\u6bb5",(0,l.kt)("inlineCode",{parentName:"p"},"fn"),"\u51fd\u6570\u4f1a\u643a\u5e26",(0,l.kt)("inlineCode",{parentName:"p"},"props"),"\u53c2\u6570\u4f20\u5165\u3002\u5373\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'with(this){return _c(\'div\',{attrs:{"id":"app"}},[_c(\'child\',{scopedSlots:_u([{key:"default",fn:function(slotProps){return [_v(_s(slotProps.user.firstname))]}}])})],1)}\n')),(0,l.kt)("h3",{id:"1042-\u5b50\u7ec4\u4ef6\u6e32\u67d3"},"10.4.2 \u5b50\u7ec4\u4ef6\u6e32\u67d3"),(0,l.kt)("p",null,"\u5728\u5b50\u7ec4\u4ef6\u7f16\u8bd1\u9636\u6bb5\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},':user="user"'),"\u4f1a\u4ee5\u5c5e\u6027\u7684\u5f62\u5f0f\u89e3\u6790\uff0c\u6700\u7ec8\u5728",(0,l.kt)("inlineCode",{parentName:"p"},"render"),"\u51fd\u6570\u751f\u6210\u9636\u6bb5\u4ee5\u5bf9\u8c61\u53c2\u6570\u7684\u5f62\u5f0f\u4f20\u9012",(0,l.kt)("inlineCode",{parentName:"p"},"_t"),"\u51fd\u6570\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'with(this){return _c(\'div\',[_t("default",null,{"user":user})],2)}\n')),(0,l.kt)("p",null,"\u5b50\u7ec4\u4ef6\u6e32\u67d3Vnode\u9636\u6bb5\uff0c\u6839\u636e\u524d\u9762\u5206\u6790\u4f1a\u6267\u884c",(0,l.kt)("inlineCode",{parentName:"p"},"renderSlot"),"\u51fd\u6570\uff0c\u8fd9\u4e2a\u51fd\u6570\u524d\u9762\u5206\u6790\u8fc7\uff0c\u5bf9\u4e8e\u4f5c\u7528\u57df\u63d2\u69fd\u7684\u5904\u7406\uff0c\u96c6\u4e2d\u4f53\u73b0\u5728\u51fd\u6570\u4f20\u5165\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"// \u6e32\u67d3slot\u7ec4\u4ef6vnode\nfunction renderSlot(\n  name,\n  fallback,\n  props, // \u5b50\u4f20\u7ed9\u7236\u7684\u503c { user: user }\n  bindObject\n) {\n    // scopedSlotFn\u62ff\u5230\u7236\u7ec4\u4ef6\u63d2\u69fd\u7684\u6267\u884c\u51fd\u6570\uff0c\u9ed8\u8ba4slotname\u4e3adefault\n    var scopedSlotFn = this.$scopedSlots[name];\n    var nodes;\n    // \u5177\u540d\u63d2\u69fd\u5206\u652f\n    if (scopedSlotFn) { // scoped slot\n      props = props || {};\n      if (bindObject) {\n        if (!isObject(bindObject)) {\n          warn(\n            'slot v-bind without argument expects an Object',\n            this\n          );\n        }\n        // \u5408\u5e76props\n        props = extend(extend({}, bindObject), props);\n      }\n      // \u6267\u884c\u65f6\u5c06\u5b50\u7ec4\u4ef6\u4f20\u9012\u7ed9\u7236\u7ec4\u4ef6\u7684\u503c\u4f20\u5165fn\n      nodes = scopedSlotFn(props) || fallback;\n    }\n")),(0,l.kt)("p",null,"\u6700\u7ec8\u5c06\u5b50\u7ec4\u4ef6\u7684\u63d2\u69fd",(0,l.kt)("inlineCode",{parentName:"p"},"props"),"\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u6267\u884c\u51fd\u6570\u6267\u884c\u3002",(0,l.kt)("strong",{parentName:"p"},"\u56de\u8fc7\u5934\u770b\u770b\u4e3a\u4ec0\u4e48\u5177\u540d\u63d2\u69fd\u662f\u51fd\u6570\u7684\u5f62\u5f0f\u6267\u884c\u800c\u4e0d\u662f\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\u3002\u5b66\u5b8c\u4f5c\u7528\u57df\u63d2\u69fd\u6211\u4eec\u53d1\u73b0\u8fd9\u5c31\u662f\u8bbe\u8ba1\u5de7\u5999\u7684\u5730\u65b9\uff0c\u51fd\u6570\u7684\u5f62\u5f0f\u8ba9\u6267\u884c\u8fc7\u7a0b\u66f4\u52a0\u7075\u6d3b\uff0c\u4f5c\u7528\u57df\u63d2\u69fd\u53ea\u9700\u8981\u4ee5\u53c2\u6570\u7684\u5f62\u5f0f\u5c06\u63d2\u69fd",(0,l.kt)("inlineCode",{parentName:"strong"},"props"),"\u4f20\u5165\u4fbf\u53ef\u4ee5\u5f97\u5230\u60f3\u8981\u7684\u7ed3\u679c\u3002")),(0,l.kt)("h3",{id:"1043-\u601d\u8003"},"10.4.3 \u601d\u8003"),(0,l.kt)("p",null,"\u4f5c\u7528\u57df\u63d2\u69fd\u8fd9\u4e2a\u6982\u5ff5\u4e00\u5f00\u59cb\u6211\u5f88\u96be\u7406\u89e3\uff0c\u5355\u7eaf\u4ece\u5b9a\u4e49\u548c\u6e90\u7801\u7684\u7ed3\u8bba\u4e0a\u770b\uff0c\u7236\u7ec4\u4ef6\u7684\u63d2\u69fd\u5185\u5bb9\u53ef\u4ee5\u8bbf\u95ee\u5230\u5b50\u7ec4\u4ef6\u7684\u6570\u636e\uff0c\u8fd9\u4e0d\u662f\u660e\u663e\u7684\u5b50\u7236\u4e4b\u95f4\u7684\u4fe1\u606f\u901a\u4fe1\u5417\uff0c\u5728\u4e8b\u4ef6\u7ae0\u8282\u6211\u4eec\u77e5\u9053\uff0c\u5b50\u7236\u7ec4\u4ef6\u4e4b\u95f4\u7684\u901a\u4fe1\u5b8c\u5168\u53ef\u4ee5\u901a\u8fc7\u4e8b\u4ef6",(0,l.kt)("inlineCode",{parentName:"p"},"$emit,$on"),"\u7684\u5f62\u5f0f\u6765\u5b8c\u6210\uff0c\u90a3\u4e48\u4e3a\u4ec0\u4e48\u8fd8\u9700\u8981\u589e\u52a0\u4e00\u4e2a\u63d2\u69fd",(0,l.kt)("inlineCode",{parentName:"p"},"props"),"\u7684\u6982\u5ff5\u5462\u3002\u6211\u4eec\u770b\u770b\u4f5c\u8005\u7684\u89e3\u91ca\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u63d2\u69fd ",(0,l.kt)("inlineCode",{parentName:"p"},"prop")," \u5141\u8bb8\u6211\u4eec\u5c06\u63d2\u69fd\u8f6c\u6362\u4e3a\u53ef\u590d\u7528\u7684\u6a21\u677f\uff0c\u8fd9\u4e9b\u6a21\u677f\u53ef\u4ee5\u57fa\u4e8e\u8f93\u5165\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"prop")," \u6e32\u67d3\u51fa\u4e0d\u540c\u7684\u5185\u5bb9")),(0,l.kt)("p",null,"\u4ece\u6211\u81ea\u8eab\u7684\u89d2\u5ea6\u7406\u89e3\uff0c\u4f5c\u7528\u57df\u63d2\u69fd\u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u5f0f\uff0c\u5f53\u4f60\u9700\u8981\u5c01\u88c5\u4e00\u4e2a\u901a\u7528\uff0c\u53ef\u590d\u7528\u7684\u903b\u8f91\u6a21\u5757\uff0c\u5e76\u4e14\u8fd9\u4e2a\u6a21\u5757\u7ed9\u5916\u90e8\u4f7f\u7528\u8005\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4fbf\u5229\uff0c\u5141\u8bb8\u4f60\u5728\u4f7f\u7528\u7ec4\u4ef6\u65f6\u81ea\u5b9a\u4e49\u90e8\u5206\u5e03\u5c40\uff0c\u8fd9\u65f6\u5019\u4f5c\u7528\u57df\u63d2\u69fd\u5c31\u6d3e\u4e0a\u5927\u7528\u573a\u4e86\uff0c\u518d\u5230\u5177\u4f53\u7684\u601d\u60f3\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u770b\u51e0\u4e2a\u5de5\u5177\u5e93",(0,l.kt)("a",{parentName:"p",href:"https://github.com/Akryum/vue-virtual-scroller"},"Vue Virtual Scroller"),", ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/posva/vue-promised"},"Vue Promised"),"\u5bf9\u8fd9\u4e00\u601d\u60f3\u7684\u5e94\u7528\u3002"))}m.isMDXComponent=!0}}]);