<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">目录 | 深入剖析Vue源码</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/blog-vue-source/目录"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="目录 | 深入剖析Vue源码"><meta data-react-helmet="true" name="description" content="&lt;!--"><meta data-react-helmet="true" property="og:description" content="&lt;!--"><link data-react-helmet="true" rel="shortcut icon" href="/blog-vue-source/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/blog-vue-source/目录"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/blog-vue-source/目录" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/blog-vue-source/目录" hreflang="x-default"><link rel="stylesheet" href="/blog-vue-source/assets/css/styles.6d09dbb1.css">
<link rel="preload" href="/blog-vue-source/assets/js/runtime~main.0ee6c1f0.js" as="script">
<link rel="preload" href="/blog-vue-source/assets/js/main.d722cc53.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/blog-vue-source/"><img src="/blog-vue-source/img/logo.svg" alt="深入剖析Vue源码" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/blog-vue-source/img/logo.svg" alt="深入剖析Vue源码" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">深入剖析Vue源码</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Ocean1509/In-depth-analysis-of-Vue" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/">Introduction</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/blog-vue-source/目录">目录</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/丰富的选项合并策略">丰富的选项合并策略</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/基础的数据代理检测">基础的数据代理检测</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/实例挂载流程和模板编译">实例挂载流程和模板编译</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/完整渲染流程">完整渲染流程</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/组件基础剖析">组件基础剖析</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/组件高级用法">组件高级用法</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/深入响应式系统构建-上">深入响应式系统构建-上</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/深入响应式系统构建-下">深入响应式系统构建-下</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/深入响应式系统构建-中">深入响应式系统构建-中</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/来，跟我一起实现diff算法">来，跟我一起实现diff算法</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/揭秘Vue的事件机制">揭秘Vue的事件机制</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/vue插槽，你想了解的都在这里">vue插槽，你想了解的都在这里</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/你真的了解v-model的语法糖了吗">你真的了解v-model的语法糖了吗</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/动态组件的深入分析">动态组件的深入分析</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/彻底搞懂Vue中keep-alive的魔法-上">彻底搞懂Vue中keep-alive的魔法-上</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/blog-vue-source/彻底搞懂Vue中keep-alive的魔法-下">彻底搞懂Vue中keep-alive的魔法-下</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>目录</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="1-丰富的选项合并策略"></a>1. 丰富的选项合并策略<a class="hash-link" href="#1-丰富的选项合并策略" title="Direct link to heading">#</a></h2><p><code>new Vue</code>是运行<code>Vue</code>框架的第一步，<code>Vue</code>作为构造器，实例化阶段的第一步是执行初始化过程，而选项合并是初始化的开始。我们会向构造器中传递各种类型的可配置选项，例如<code>data,props</code>,或者像<code>mounted</code>这类生命周期钩子。而除了这些用户自定义的选项，<code>Vue</code>还提供了很多内部的选项，这些选项遵循什么样的合并规则就是这一节分析的重点。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="2-基础的数据代理"></a>2. 基础的数据代理<a class="hash-link" href="#2-基础的数据代理" title="Direct link to heading">#</a></h2><p>使用<code>Vue</code>做开发的同学都知道，<code>Vue</code>的核心是它的响应式系统，而响应式系统的核心是利用了<code>Object.defineProperty</code>进行数据拦截，这一节内容会深入分析<code>Vue</code>中两种数据拦截的方式：<code>Object.defineProperty,Proxy</code>,尽管响应式系统用的是兼容性更好的<code>Object.defineProperty</code>，但是<code>proxy</code>也在源码中使用上了，其中的一个例子就是用作数据过滤筛选。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="3-完整挂载流程和模板编译"></a>3. 完整挂载流程和模板编译<a class="hash-link" href="#3-完整挂载流程和模板编译" title="Direct link to heading">#</a></h2><p><code>Vue</code>版本提供了运行时版本和同时包含编译器和运行时的版本，他们都有各自的使用场景。除了介绍两者的区别外，文章的核心还介绍了实例在挂载阶段的完整流程，虽然不会对流程中的每个具体环节展开分析，但是可以知道大致完整的挂载思路。文章最后还介绍了编译器巧妙的设计思路。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="4-完整渲染流程"></a>4. 完整渲染流程<a class="hash-link" href="#4-完整渲染流程" title="Direct link to heading">#</a></h2><p><code>Virtual DOM</code>是<code>js</code>操作和<code>DOM</code>渲染之间的桥梁，<code>JS</code>对<code>DOM</code>节点的操作，都会批量反应到<code>Virtual DOM</code>这个节点描述对象上，它的理念很大程度提高了渲染的性能。有了上一节的基础，这一节会分析两个挂载阶段的核心过程，<code>render,update</code>,<code>render</code>阶段会将模板编译渲染函数，解析成<code>Virtual DOM</code>树，<code>update</code>阶段会将<code>Virtual DOM</code>树映射为真实的<code>DOM</code>节点。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="5-组件基础剖析"></a>5. 组件基础剖析<a class="hash-link" href="#5-组件基础剖析" title="Direct link to heading">#</a></h2><p>组件是<code>Vue</code>另一个核心，组件化开发是衡量<code>Vue</code>开发能力的标准。文章会从组件的注册开始，介绍全局注册和局部注册在实现原理上的区别，另外组件的挂载流程也是分析的重点，这一切也都依赖于前面介绍过的渲染流程。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="6-组件高级用法"></a>6. 组件高级用法<a class="hash-link" href="#6-组件高级用法" title="Direct link to heading">#</a></h2><p>除了基础的组件用法，<code>Vue</code>还提供了高级的用法，例如异步组件和函数组件。异步组件是首屏性能优化的解决方案，深入它的实现原理更有助于我们在开发中首屏性能问题。而函数式组件也有其独特的使用场景。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="7-深入响应式系统构建--上中下"></a>7. 深入响应式系统构建- 上，中，下<a class="hash-link" href="#7-深入响应式系统构建--上中下" title="Direct link to heading">#</a></h2><p>响应式系统构建是<code>Vue</code>的核心，也是难点，这个系列会有三篇的内容去尝试分析内部的实现细节。从响应式数据的构建，再到每种数据类型依赖收集和派发更新的分析。文章也模拟了一个简易版的响应式系统方便深层次源码的分析。在响应式系统构建中，还有很多的特殊情况需要考虑，例如数组的响应式构建，对象的异常处理等。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="8-diff算法的实现"></a>8. diff算法的实现<a class="hash-link" href="#8-diff算法的实现" title="Direct link to heading">#</a></h2><p><code>virtual dom</code>引入的另一个关键是在旧节点发生改变时，利用<code>diff</code>算法比较新旧节点的差异，以达到最小变化的改变真实节点。文章会从脱离框架的角度实现一个<code>diff</code>算法。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="9-揭秘vue的事件机制"></a>9. 揭秘Vue的事件机制<a class="hash-link" href="#9-揭秘vue的事件机制" title="Direct link to heading">#</a></h2><p><code>Vue</code>提供了很多实用的功能给用户，其中一个就是使用模板去进行事件监听。<code>@click</code>作为事件指令会在模板编译阶段解析，并且会在真实节点的渲染阶段进行相关事件的绑定。而对于组件的事件而言，他提供了子父组件通信的方式，本质上是在同个子组件内部维护了一个事件总线。更多的内容可以参考文章的分析。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="10-你想了解的vue插槽"></a>10. 你想了解的<code>Vue</code>插槽<a class="hash-link" href="#10-你想了解的vue插槽" title="Direct link to heading">#</a></h2><p><code>Vue</code>组件的另一个重要概念是插槽，它允许你以一种不同于严格的父子关系的方式组合组件。插槽为你提供了一个将内容放置到新位置或使组件更通用的出口。这一节将围绕官网对插槽内容的介绍思路，按照普通插槽，具名插槽，再到作用域插槽的思路，逐步深入内部的实现原理。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="11-v-model的语法糖"></a>11. v-model的语法糖<a class="hash-link" href="#11-v-model的语法糖" title="Direct link to heading">#</a></h2><p>我们都知道<code>v-model</code>是实现双向数据绑定的核心，但如果深入源码我们可以知道，<code>v-model</code>的核心只是通过事件触发去改变表单的值。除此之前<code>v-model</code>语法糖还在组合输入过程做了一系列的优化。另外组件上使用<code>v-model</code>本质上只是一个子父组件通信的语法糖。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="12-动态组件的深入分析"></a>12. 动态组件的深入分析<a class="hash-link" href="#12-动态组件的深入分析" title="Direct link to heading">#</a></h2><p>这一节，我们又回到了组件的分析。动态组件是我们平时开发中高频率使用的东西。核心是<code>is</code>属性的使用。文末还粗略介绍了另一个概念，动态组件。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="13-keep-alive的魔法"></a>13. keep-alive的魔法<a class="hash-link" href="#13-keep-alive的魔法" title="Direct link to heading">#</a></h2><p>内置组件中最重要，也是最经常使用的是<code>keep-alive</code>组件，我们将<code>keep-alive</code>配合动态组件<code>is</code>使用，达到在切换组件的同时，将旧组件进行缓存，以便保留初始状态的目的。<code>keep-alive</code>有不同于其他组件的生命周期，并且他在缓存上也做了优化。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_13-_"><span class="theme-last-updated">Last updated on <b><time datetime="2022-10-24T06:26:17.000Z">10/24/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog-vue-source/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog-vue-source/丰富的选项合并策略"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">丰富的选项合并策略 »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-丰富的选项合并策略" class="table-of-contents__link">1. 丰富的选项合并策略</a></li><li><a href="#2-基础的数据代理" class="table-of-contents__link">2. 基础的数据代理</a></li><li><a href="#3-完整挂载流程和模板编译" class="table-of-contents__link">3. 完整挂载流程和模板编译</a></li><li><a href="#4-完整渲染流程" class="table-of-contents__link">4. 完整渲染流程</a></li><li><a href="#5-组件基础剖析" class="table-of-contents__link">5. 组件基础剖析</a></li><li><a href="#6-组件高级用法" class="table-of-contents__link">6. 组件高级用法</a></li><li><a href="#7-深入响应式系统构建--上中下" class="table-of-contents__link">7. 深入响应式系统构建- 上，中，下</a></li><li><a href="#8-diff算法的实现" class="table-of-contents__link">8. diff算法的实现</a></li><li><a href="#9-揭秘vue的事件机制" class="table-of-contents__link">9. 揭秘Vue的事件机制</a></li><li><a href="#10-你想了解的vue插槽" class="table-of-contents__link">10. 你想了解的<code>Vue</code>插槽</a></li><li><a href="#11-v-model的语法糖" class="table-of-contents__link">11. v-model的语法糖</a></li><li><a href="#12-动态组件的深入分析" class="table-of-contents__link">12. 动态组件的深入分析</a></li><li><a href="#13-keep-alive的魔法" class="table-of-contents__link">13. keep-alive的魔法</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022, Power By <a href="https://www.docusaurus.cn/">Docusaurus</a>.</div></div></div></footer></div>
<script src="/blog-vue-source/assets/js/runtime~main.0ee6c1f0.js"></script>
<script src="/blog-vue-source/assets/js/main.d722cc53.js"></script>
</body>
</html>